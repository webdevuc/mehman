"use strict";(self.webpackChunkmehman_booking_engine=self.webpackChunkmehman_booking_engine||[]).push([["src_app_user_user_module_ts"],{98757:(A,f,i)=>{var a,t,g,l,s,e;i.d(f,{X9:()=>l,bG:()=>e,gn:()=>a,sZ:()=>g,uG:()=>s}),(t=a||(a={}))[t.Pending=1]="Pending",t[t.Booked=2]="Booked",t[t.Expired=3]="Expired",t[t.Canceled=4]="Canceled",t[t.Rejected=5]="Rejected",t[t.Confirmed=6]="Confirmed",function(t){t[t.Adult=1]="Adult",t[t.Child=2]="Child",t[t.Infant=3]="Infant"}(g||(g={})),function(t){t[t.RoundTrip=1]="RoundTrip",t[t.OneWay=2]="OneWay",t[t.MultiCity=3]="MultiCity"}(l||(l={})),function(t){t[t.PayAtBranch=1]="PayAtBranch",t[t.PayPro=2]="PayPro",t[t.Credit=3]="Credit"}(s||(s={})),function(t){t[t.Pending=1]="Pending",t[t.Paid=2]="Paid"}(e||(e={}))},63649:(A,f,i)=>{i.r(f),i.d(f,{UserModule:()=>u});var a=i(94666),g=i(88062),l=i(50253),s=i(98757),e=i(22560),t=i(54528),C=i(5620),x=i(1584),v=i(75331),U=i(62805);function b(r,o){if(1&r&&(e.TgZ(0,"div",8)(1,"div",2)(2,"div",9)(3,"div",10),e._uU(4),e.qZA()()()()),2&r){const n=e.oxw();e.xp6(4),e.hij(" ",n.errorMessage," ")}}function O(r,o){1&r&&(e.TgZ(0,"tr")(1,"th",11),e._uU(2,"Booking Ref "),e._UZ(3,"p-sortIcon",12),e.qZA(),e.TgZ(4,"th",13),e._uU(5,"No. of Passengers "),e._UZ(6,"p-sortIcon",14),e.qZA(),e.TgZ(7,"th",15),e._uU(8,"Origin "),e._UZ(9,"p-sortIcon",16),e.qZA(),e.TgZ(10,"th",17),e._uU(11,"Destination "),e._UZ(12,"p-sortIcon",18),e.qZA(),e.TgZ(13,"th",19),e._uU(14,"Payment Type "),e._UZ(15,"p-sortIcon",20),e.qZA(),e.TgZ(16,"th",21),e._uU(17,"Booking Stage "),e._UZ(18,"p-sortIcon",22),e.qZA(),e.TgZ(19,"th",23),e._uU(20,"Expired On "),e._UZ(21,"p-sortIcon",24),e.qZA()())}function T(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td",25),e.NdJ("click",function(){const k=e.CHM(n).$implicit,S=e.oxw();return e.KtG(S.bookingDetails(k.id))}),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA()()}if(2&r){const n=o.$implicit;e.xp6(2),e.Oqu(n.pnr),e.xp6(2),e.Oqu(n.pax),e.xp6(2),e.Oqu(n.originLocation),e.xp6(2),e.Oqu(n.destinationLocation),e.xp6(2),e.Oqu(n.paymentTypeName),e.xp6(2),e.Oqu(n.bookingStatusName),e.xp6(2),e.Oqu(e.xi3(15,7,n.expiredOn,"d MMM yyyy"))}}const w=function(){return[5,10,25,50]};class d{constructor(o,n,p){this.authService=o,this.service=n,this.userService=p,this.unsubscribeAll=new l.x}ngOnInit(){window.scrollTo(0,0),this.getBookings()}get userName(){return this.authService.getUserEmail()}getBookingStatus(o){switch(o.status){case 1:return s.gn[1];case 2:return s.gn[2];case 3:return s.gn[3];case 4:return s.gn[4];case 5:return s.gn[5];case 6:return s.gn[6]}}getPaymentType(o){if(1===o.paymentType)return s.uG[1]}logout(){this.authService.loggedOut()}getBookings(){this.userService.getBookings().subscribe(o=>{o?"success"===o.status?o.data&&(this.bookings=o.data,console.log("bookings",o.data)):o.message?this.errorMessage=o.message:(this.errorMessage="GetBookings Err 1: Unknown; Try Again",this.isError=!0):(this.errorMessage="GetBookings Err 2: Unknown; Try Again",this.isError=!0)})}bookingDetails(o){console.log(o)}ngOnDestroy(){this.unsubscribeAll.next(0),this.unsubscribeAll.complete()}}d.\u0275fac=function(o){return new(o||d)(e.Y36(t.e),e.Y36(C.v),e.Y36(x.K))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-bookings"]],decls:8,vars:9,consts:[["class","row",4,"ngIf"],[1,"row","mb-5"],[1,"col-lg-12","col-sm-12","col-xs-12"],[1,"manage-table"],[1,"booking-table"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","responsive","rows","showCurrentPageReport","rowsPerPageOptions","paginator"],["pTemplate","header"],["pTemplate","body"],[1,"row"],[1,"flt-details","wow","fadeIn"],["role","alert",1,"alert","alert-danger","col-lg-12","col-sm-12","col-xs-12"],["pSortableColumn","id"],["field","id"],["pSortableColumn","pax"],["field","pax"],["pSortableColumn","originLocation"],["field","originLocation"],["pSortableColumn","destinationLocation"],["field","destinationLocation"],["pSortableColumn","paymentTypeName"],["field","paymentTypeName"],["pSortableColumn","bookingStatusName"],["field","bookingStatusName"],["pSortableColumn","expiredOn"],["field","expiredOn"],[3,"click"]],template:function(o,n){1&o&&(e.YNc(0,b,5,1,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p-table",5),e.YNc(6,O,22,0,"ng-template",6),e.YNc(7,T,16,10,"ng-template",7),e.qZA()()()()()),2&o&&(e.Q6J("ngIf",n.isError),e.xp6(5),e.Q6J("value",n.bookings)("rowHover",!0)("responsive",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(8,w))("paginator",!0))},dependencies:[a.O5,v.iA,U.jx,v.lQ,v.fz,a.uU]});class c{constructor(o){this._authService=o}canActivate(o,n){const p=this._authService.isUserLoggedIn(),h=this._authService.getRole();if(p&&null!=h&&void 0!==h&&""!==h){if("User"===h)return p;this._authService.setUserLoggedOut()}else this._authService.setUserLoggedOut()}}c.\u0275fac=function(o){return new(o||c)(e.LFG(t.e))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"});var y=i(44466);class m{constructor(o){this.authService=o,this.unsubscribeAll=new l.x}ngOnInit(){window.scrollTo(0,0)}get userName(){return this.authService.getUserEmail()}logout(){this.authService.loggedOut()}ngOnDestroy(){this.unsubscribeAll.next(0),this.unsubscribeAll.complete()}}m.\u0275fac=function(o){return new(o||m)(e.Y36(t.e))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-manage-alerts"]],decls:3,vars:0,consts:[[1,"middle"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"COMING SOON..."),e.qZA()())},styles:[".header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0!important}.middle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;background-color:#57b957;color:#fff;width:300px;height:35px}"]});var Z=i(2508);const M=[{path:"bookings",component:d,canActivate:[c]},{path:"manage-alerts",component:m,canActivate:[c]}];class u{}u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[a.ez,Z.u5,y.m,Z.UX,v.U$,g.Bz.forChild(M)]})}}]);
//# sourceMappingURL=src_app_user_user_module_ts.js.map